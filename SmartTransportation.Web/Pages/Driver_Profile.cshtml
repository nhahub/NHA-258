@page
@model SmartTransportation.Web.Pages.Driver_ProfileModel
@{
    ViewData["Title"] = "Driver Profile - Move Smart";
    Layout = "_Layout";
}

@section style{
    <link rel="stylesheet" href="~/css/driver_profile_css.css" />
}
        

<body>
    <div class="container">
        <div class="profile-header">
            <div class="avatar">@(!string.IsNullOrEmpty(Model.DriverDto.FullName) ? Model.DriverDto.FullName.Substring(0, 1) : "D")</div>
            <div class="profile-info">
                <h1>@Model.DriverDto.FullName</h1>
                <p>@Model.DriverDto.Phone</p>
            </div>
        </div>

        @if (!string.IsNullOrEmpty(Model.SuccessMessage))
        {
            <div class="success-message">@Model.SuccessMessage</div>
        }
        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="error-message">@Model.ErrorMessage</div>
        }

        <div class="profile-grid">
            <!-- Driver Info -->
            <div class="profile-card">
                <h2>Personal Information</h2>
                <form method="post" asp-page-handler="UpdateDriver">
                    <div class="form-group"><label>Full Name</label><input asp-for="DriverDto.FullName" type="text" required /></div>
                    <div class="form-group"><label>Phone</label><input asp-for="DriverDto.Phone" type="tel" required /></div>
                    <div class="form-group"><label>Address</label><input asp-for="DriverDto.Address" type="text" /></div>
                    <div class="form-group"><label>City</label><input asp-for="DriverDto.City" type="text" /></div>
                    <div class="form-group"><label>Country</label><input asp-for="DriverDto.Country" type="text" /></div>
                    <div class="form-group"><label>Date of Birth</label><input asp-for="DriverDto.DateOfBirth" type="date" /></div>
                    <div class="form-group"><label>Gender</label><input asp-for="DriverDto.Gender" type="text" /></div>
                    <div class="form-group"><label>Driver License Number</label><input asp-for="DriverDto.DriverLicenseNumber" type="text" /></div>
                    <div class="form-group"><label>Driver License Expiry</label><input asp-for="DriverDto.DriverLicenseExpiry" type="date" /></div>
                    <button type="submit" class="btn">Update Profile</button>
                </form>
            </div>

            <!-- Vehicle Info -->
            <div class="profile-card">
                <h2>Vehicle Information</h2>
                <form method="post" asp-page-handler="UpdateVehicle">
                    <div class="form-group"><label>Make</label><input asp-for="VehicleDto.VehicleMake" /></div>
                    <div class="form-group"><label>Model</label><input asp-for="VehicleDto.VehicleModel" /></div>
                    <div class="form-group"><label>Year</label><input asp-for="VehicleDto.VehicleYear" type="number" /></div>
                    <div class="form-group"><label>Plate Number</label><input asp-for="VehicleDto.PlateNumber" /></div>
                    <div class="form-group"><label>Color</label><input asp-for="VehicleDto.Color" /></div>
                    <div class="form-group"><label>Seats Count</label><input asp-for="VehicleDto.SeatsCount" type="number" /></div>
                    <div class="form-group"><label>Vehicle License Number</label><input asp-for="VehicleDto.VehicleLicenseNumber" /></div>
                    <div class="form-group"><label>Vehicle License Expiry</label><input asp-for="VehicleDto.VehicleLicenseExpiry" type="date" /></div>
                    <button type="submit" class="btn">Update Vehicle</button>
                </form>
            </div>

            <div style="margin-top: 20px;">
                <a href="/Trips/Create" class="btn">Create New Trip</a>
            </div>
        </div>
    </div>
</body>
</html>
